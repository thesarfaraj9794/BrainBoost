import 'dart:math';
import 'package:flutter/material.dart';
import 'package:quiz_basic_app/pages/safe_scaffold.dart';
import 'lesson.dart';
import 'content.dart'; // Ensure this is imported for LessonContentPage
// Note: PracticePage is not included in this code.

class SubjectPage extends StatelessWidget {
  final String className;
  SubjectPage({required this.className});

  final List<String> subjects = [
    "Math",
    "Science",
    "GK",
    "Hindi",
    "Computer",
    "English",
  ];

  IconData _getSubjectIcon(String subject) {
    switch (subject) {
      case "Math":
        return Icons.calculate;
      case "Science":
        return Icons.science;
      case "GK":
        return Icons.public;
      case "Hindi":
        return Icons.language;
      case "Computer":
        return Icons.computer;
      case "English":
        return Icons.school;
      default:
        return Icons.subject;
    }
  }

  @override
  Widget build(BuildContext context) {
    return SafeArea(
      child: Scaffold(
        appBar: AppBar(
          title: Text("$className Subjects"),
          backgroundColor: const Color.fromARGB(255, 37, 75, 107),
          titleTextStyle: TextStyle(color: Colors.white, fontSize: 20.0),
          leading: IconButton(
            icon: Icon(Icons.arrow_back, color: Colors.white),
            onPressed: () {
              // This button takes the user back, but we'll handle the main navigation below.
              Navigator.pop(context);
            },
          ),
        ),
        
      
       body: Padding(
      
        padding: const EdgeInsets.all(12.0),
        child: SingleChildScrollView(
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          SizedBox(height: 30,),
          const SizedBox( height:  30,
          child: Row(
            mainAxisAlignment: MainAxisAlignment.start,
            children: [
              Center(
                
                child: Text("Easy-to-read materials at your fingertips",style: TextStyle(fontSize: 20,color: Color.fromARGB(255, 170, 143, 156),),)),
            ],
            
          ),
          
      
          ),
          Divider(color: Colors.black.withOpacity(0.3),thickness: 1,),
          SizedBox(height: 20,),
          // ðŸ”¹ Subjects Grid
          GridView.builder(
            shrinkWrap: true, // Grid apne size ke hisaab se chale
            physics: NeverScrollableScrollPhysics(), // Alag scroll disable
            itemCount: subjects.length,
            gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
              crossAxisCount: 2,
              mainAxisSpacing: 12,
              crossAxisSpacing: 12,
              childAspectRatio: 3 / 2,
            ),
            itemBuilder: (context, index) {
              String subject = subjects[index];
              return GestureDetector(
                onTap: () {
                  Navigator.push(
                    context,
                    MaterialPageRoute(
                      builder: (_) => LessonPage(
                        className: className,
                        subject: subject,
                      ),
                    ),
                  );
                },
                child: Container(
                  decoration: BoxDecoration(
                    gradient: LinearGradient(
                      colors: [
                        const Color.fromARGB(255, 83, 116, 155),
                        const Color.fromARGB(255, 67, 39, 110),
                      ],
                      begin: Alignment.topLeft,
                      end: Alignment.bottomRight,
                    ),
                    borderRadius: BorderRadius.circular(20),
                    border: Border.all(color: Colors.white, width: 3),
                    boxShadow: const [
                      BoxShadow(
                        color: Color.fromARGB(66, 233, 82, 82),
                        blurRadius: 30,
                        offset: Offset(4, 6),
                      ),
                    ],
                  ),
                  alignment: Alignment.center,
                  child: Column(
                    mainAxisAlignment: MainAxisAlignment.center,
                    children: [
                      Icon(
                        _getSubjectIcon(subject),
                        size: 40,
                        color: Colors.white,
                      ),
                      const SizedBox(height: 8),
                      Text(
                        subject,
                        style: const TextStyle(
                          fontSize: 20,
                          fontWeight: FontWeight.bold,
                          color: Colors.white,
                        ),
                      ),
                    ],
                  ),
                ),
              );
            },
          ),
      
          //const SizedBox(height: 30),
      
          // ðŸ”¹ Recommended Section
          // Align(
          //   alignment: Alignment.centerLeft,
          //   child: Center(
          //     child: Text(
          //       "Recommended Book",
          //       style: TextStyle(
          //         color: const Color.fromARGB(255, 53, 33, 107),
          //         fontSize: 15,
          //         fontWeight: FontWeight.bold,
          //       ),
          //     ),
          //   ),
          // ),
      
        //  const SizedBox(height: 20),
      
          // SizedBox(
          //   height: 100,
          //   child: ListView(
          //     scrollDirection: Axis.horizontal,
          //     children: [
          //       _buildRecommended("Astronomy", Icons.star),
          //       _buildRecommended("Arts", Icons.brush),
          //       _buildRecommended("Sports", Icons.sports_soccer),
          //        _buildRecommended("Arts", Icons.brush),
          //       _buildRecommended("Sports", Icons.sports_soccer),
      
          //     ],
          //   ),
          // ),
        ],
      ),
        ),
      ),
      
      ),
    );
  }
}

// Widget _buildRecommended(String title, IconData icon) {
//   return Container(
//     width: 120,
//     margin: const EdgeInsets.only(left:30 ),
//     decoration: BoxDecoration(
//       color: const Color.fromARGB(255, 59, 44, 87),
//       borderRadius: BorderRadius.circular(15),
//       boxShadow: [
//         BoxShadow(color: Colors.black26, blurRadius: 6, offset: Offset(2, 4)),
//       ],
//     ),
//     child: Column(
//       mainAxisAlignment: MainAxisAlignment.center,
//       children: [
//         Icon(icon, size: 35, color: Colors.white),
//         const SizedBox(height: 8),
//         Text(
//           title,
//           style: const TextStyle(
//             color: Colors.white,
//             fontWeight: FontWeight.bold,
//           ),
//         ),
//       ],
//     ),
//   );
// }


